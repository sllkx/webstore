.fhl-widget-wrapper *, .fhl-widget-wrapper *::before, .fhl-widget-wrapper *::after { 
    box-sizing: border-box; 
}

#fhl-widget-container {
    position: fixed; 
    z-index: 1000; 
    bottom: 20px; 
    left: 50%;
    transform: translateX(-50%) translateY(0); 
    display: flex; 
    flex-direction: column; 
    align-items: center;
    width: calc(100% - 30px); 
    max-width: 460px; 
    pointer-events: auto;
    transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
    color: #000;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif !important; 
    line-height: 1.5 !important;
    box-sizing: border-box !important;
}

#fhl-widget-container.hidden { opacity: 0; transform: translateX(-50%) translateY(20px); pointer-events: none}


.remix-icon {
    width: 22px;
    height: 22px;
    display: block;
    opacity: 0.8;
    transition: opacity 0.2s;
    object-fit: contain;
}
.fhl-icon-display:hover .remix-icon { opacity: 1; }


html.dark .remix-icon { filter: invert(1); }



#fhl-widget-container .fhl-item-name {
    display: none !important;
}

#fhl-widget-container .fhl-item-name {
    display: none !important;
}

#fhl-widget-container .fhl-list-container {
    padding-bottom: 45px !important;
    margin-bottom: -45px !important;
}

#fhl-widget-container .fhl-item-name {
    display: none !important;
}

#fhl-widget-container .fhl-item-tooltip {
    display: block;
    position: absolute;
    bottom: -18px; 
    left: 50%;
    transform: translateX(-50%) scale(0.9);
    
    background-color: rgba(255, 255, 255, 0.98); 
    color: #111;
    border: 1px solid rgba(0,0,0,0.08);
    
    padding: 2px 4px;
    border-radius: 99px;
    font-size: 10px !important;
    font-weight: 700;
    white-space: nowrap;
    
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    z-index: 5;
    
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

#fhl-widget-container .fhl-icon-display:hover .fhl-item-tooltip {
    opacity: 1;
    visibility: visible;
    bottom: -18px; 
    transform: translateX(-50%) scale(1);
}

html.dark #fhl-widget-container .fhl-item-tooltip {
    background-color: rgba(45, 45, 45, 0.98);
    color: #fff;
    border: 1px solid rgba(255,255,255,0.15);
    box-shadow: 0 4px 12px rgba(0,0,0,0.5);
}



#fhl-widget-container .fhl-indicator-track { position: relative; width: 100px; height: 14px; margin-bottom: 8px; cursor: pointer; background-color: transparent; transition: opacity 0.3s ease; opacity: 0; pointer-events: auto}
#fhl-widget-container.scrollable .fhl-indicator-track { opacity: 1}
#fhl-widget-container.search-mode .fhl-indicator-track { display: none}
#fhl-widget-container .fhl-scroll-indicator { position: absolute; top: 50%; left: 0; width: 12px; height: 12px; background-color: #555; border-radius: 50%; transform: translateY(-50%); transition: transform 0.1s linear; pointer-events: none}

#fhl-widget-container .fhl-widget-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    max-width: 460px;
    height: 52px;
    padding: 0 8px;
    border-radius: 26px;

    background-color: rgba(255, 255, 255, 0.5) !important;

    backdrop-filter: blur(25px) !important;
    -webkit-backdrop-filter: blur(25px) !important;

    box-shadow: 
        0 0 25px 5px rgba(255, 255, 255, 0.4),
        0 8px 32px 0 rgba(31, 38, 135, 0.1);

    transition: all 0.3s ease-in-out;
    pointer-events: auto;
    overflow: visible;
}

#fhl-widget-container span {
    font-family: inherit !important;
    font-size: 13px !important;
    font-weight: 600 !important;
    font-style: normal !important;
    line-height: normal !important;
    color: #333333 !important;
}

#fhl-widget-container .fhl-icon-display { position: relative; flex-shrink: 0; display: flex; justify-content: center; align-items: center; width: 38px; height: 38px; color: #333; border: none; border-radius: 50%; text-decoration: none; cursor: pointer; padding: 0;background:unset}
#fhl-widget-container .fhl-icon-display:hover { background-color: rgba(0, 0, 0, 0.1);}

#fhl-widget-container .fhl-list-container .fhl-icon-display {display: inline-flex; width: auto; border-radius: 20px; background-color: transparent}
#fhl-widget-container .fhl-list-container .fhl-icon-display:hover {padding:0; box-sizing:border-box;background-color: rgba(0, 0, 0, 0.08)}
#fhl-widget-container .fhl-list-container .fhl-icon-display:hover .fhl-icon-circle { background-color: transparent}

#fhl-widget-container .fhl-icon-circle { flex-shrink: 0; display: flex; justify-content: center; align-items: center; width: 38px; height: 38px; background-color: rgba(0, 0, 0, 0.05); border-radius: 50%; transition: background-color 0.2s ease; overflow: hidden}
#fhl-widget-container .fhl-icon-circle img { width: 24px; height: 24px; object-fit: cover; border-radius: 50%}

#fhl-widget-container .fhl-icon-bar { display: flex; align-items: center; gap: 6px; width: 100%; transition: opacity 0.3s ease}
#fhl-widget-container .fhl-list-container { padding:0 8px; flex-grow: 1; display: flex; align-items: center; gap: 6px; overflow-x: auto; -ms-overflow-style: none; scrollbar-width: none; scroll-snap-type: x mandatory; mask-image: linear-gradient(to right, transparent, black 20px, black calc(100% - 20px), transparent); -webkit-mask-image: linear-gradient(to right, transparent, black 20px, black calc(100% - 20px), transparent); padding-bottom: 30px; margin-bottom: -30px; overflow-y: visible}
#fhl-widget-container .fhl-list-container::-webkit-scrollbar { display: none}
#fhl-widget-container .fhl-list-container > .fhl-icon-display { scroll-snap-align: center}


#fhl-mode-input-area { display: none; flex-grow: 1; align-items: center; gap: 5px; padding-right: 5px; }
#fhl-mode-input { width: 100%; height: 38px; border: none; background: transparent; font-size: 16px; color: #111; padding: 0 5px; outline: none; }
#fhl-widget-container.mode-active #fhl-list-container,
#fhl-widget-container.mode-active #fhl-app-search-trigger,
#fhl-widget-container.mode-active #fhl-add-to-home-btn { display: none; }
#fhl-widget-container.mode-active #fhl-mode-input-area { display: flex; }

#fhl-widget-container .fhl-widget-wrapper.search-mode { height: 280px; align-items: flex-start; border-radius: 20px}
#fhl-widget-container .fhl-widget-wrapper.search-mode .fhl-icon-bar { opacity: 0; pointer-events: none}

#fhl-widget-container .fhl-search-view { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; padding: 10px; opacity: 0; visibility: hidden; transition: opacity 0.3s 0.1s ease}
#fhl-widget-container .fhl-widget-wrapper.search-mode .fhl-search-view { opacity: 1; visibility: visible}

#fhl-widget-container .fhl-search-input-wrapper { display: flex; align-items: center; flex-shrink: 0; margin-bottom: 12px}
#fhl-widget-container .fhl-search-input { flex-grow: 1; height: 38px; border: none; background: transparent; font-size: 16px; color: #111; padding: 0 10px; outline: none; transition: border-color 0.2s ease}
#fhl-widget-container .fhl-search-input:focus { border-bottom-color: #007bff}


#fhl-widget-container .fhl-search-content { display: flex; flex-grow: 1; overflow: hidden; height: calc(100% - 50px); }
#fhl-widget-container .fhl-search-results { 
    display: flex; 
    align-items: flex-start; 
    justify-content: flex-start;
    flex-wrap: wrap; 
    align-content: flex-start; 
    gap: 10px; 
    min-width: 0; 
    flex-grow: 1;
    overflow-y: auto; 
    overflow-x: hidden; 
    padding: 0 10px 10px 10px; 
    box-sizing: border-box; 
    height: 100%;
}
#fhl-widget-container .fhl-search-results::-webkit-scrollbar { display: none}
#fhl-widget-container .fhl-search-results .fhl-icon-display { background-color: transparent}
#fhl-widget-container .fhl-search-results .fhl-icon-display:hover .fhl-icon-circle { background-color: rgba(0, 0, 0, 0.1)}


#fhl-scroll-sentinel { width: 100%; height: 10px; flex-shrink: 0; pointer-events: none; opacity: 0; }

#fhl-widget-container .fhl-fixed-panel { display: flex; flex-direction: column; align-items: center; gap: 10px; width: 38px; flex-shrink: 0 }
#fhl-widget-container .fhl-fixed-item { display: flex; align-items: center; justify-content: center; width: 38px !important; height: 38px !important; border-radius: 50% !important; background-color: rgba(0, 0, 0, 0.05) !important; text-decoration: none; cursor: pointer; transition: background-color 0.2s ease; flex-shrink: 0; }
#fhl-widget-container .fhl-fixed-item:hover { background-color: rgba(0, 0, 0, 0.1) !important; }
#fhl-widget-container .fhl-fixed-item img { width: 24px !important; height: 24px !important; border-radius: 50%; object-fit: cover; display: block; }

#fhl-widget-container .fhl-item-controls { position: absolute; bottom: -20px; left: 20px; transform: translateX(-50%); display: flex; gap: 4px; background-color: rgba(0,0,0,0.3); border-radius: 10px; padding: 2px 4px; opacity: 0; visibility: hidden; transition: all 0.2s ease; pointer-events: none; z-index: 20}
#fhl-widget-container .fhl-list-container.edit-mode .fhl-item-controls { opacity: 1; visibility: visible; pointer-events: auto; bottom: -13px}
#fhl-widget-container .fhl-control-btn { background: none; border: none; color: white; cursor: pointer; font-size: 16px; line-height: 1; padding: 2px; font-family: monospace}


.fhl-toast { position: fixed; bottom: 90px; left: 50%; transform: translateX(-50%) translateY(10px); background-color: rgba(0, 0, 0, 0.8); color: #fff; padding: 8px 16px; border-radius: 18px; font-size: 14px; z-index: 1001; opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s}
.fhl-toast.visible { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0)}

html.dark #fhl-widget-container { color: #fff !important; }
html.dark #fhl-widget-container .fhl-widget-wrapper {
    background-color: #000000 !important;
    box-shadow: 0 0 20px 2px rgba(255, 255, 255, 0.1), 0 8px 32px 0 rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.15);
}
html.dark #fhl-widget-container span,
html.dark #fhl-widget-container .fhl-search-input,
html.dark #fhl-mode-input {
    color: #ffffff !important;
}
html.dark #fhl-widget-container .fhl-icon-display:hover,
html.dark #fhl-widget-container .fhl-fixed-item:hover {
    background-color: rgba(255, 255, 255, 0.25) !important;
    color: #fff !important;
}
html.dark #fhl-widget-container .fhl-scroll-indicator {
    background-color: #aaa;
}
html.dark #fhl-widget-container .fhl-search-input:focus {
    border-bottom-color: #4da3ff;
}